---
layout: post
title:  "참조에 의한 전달과 외부상태 변경"
date:   2021-09-17
author: EunHye Jung
categories: javascript
comment : true
tags:  JS함수 자바스크립트 JavaScript
cover:  "/assets/instacode.png"
---
    
### 참조에 의한 전달과 외부상태 변경   
    
* 원시값은 값에 의한 전달(pass by value), 객체는 참조에 의한 전달(pass by reference) 방식으로 동작한다.  
  매개변수도 함수 몸체 내부에서 변수와 동일하게 취급되므로
  매개변수 또하 타입에 따라 값에 의한 전달, 참조에 의한 전달방식을 그대로 따른다.
  ```javascript   
  function changeVal(primitive, obj) {
     primitive += 100;
     obj.name = 'Kim';
  }
  
  var num = 100;
  var person = { name : 'Lee' };
  
  console.log(num);     // 100
  console.log(person);  // { name : 'Lee'}
  
  // 원시값은 값 자체가 복사되어 전달되고 객체느 참조값이 복사되어 전달한다.  
  changeVal(num, person);
  
  console.log(num);     // 100
  console.log(person);  // { name : "Kim" }
  ```   
  함수 외부에서 함수 몸체 내부로 전달한 원시값은 원본을 변경하는 어떠한 부수효과가 발생하지 않는다.   
  함수 외부에서 함수 몸체 내부 전달한 참조값에 의해 원본 객체가 변경되는 부수효과가 발생한다.   
* 복잡한 코드에서 의도치 않은 객체의 변경을 추적하는 것은 어려운 일이다.   
  객체의 변경을 추적하려며 옵저버(Observer) 패턴 등을 통해 객체르 참조를 공유하는 모든 이들에게 변경사실을 통지하고 이에 대처하는 추가 대응이 필요하다.  
  이러한 문제의 해결 방법 중 하나는 객체를 불변 객체(immutable object)로 만들어 사용하는 것이다.  
  객체의 복사본을 새롭게 생성하는 것은 비용이 들지만 객체를 마치 원시값처럼 변경가능한값으로 동작하게 만드는 것이다.  
  이를 통해 외부 상태가 변경되는 부수효괄 없앨 수 있다.   
* 외부 상태를 변경하지 않고 외부 상태에 의존하지도 않는 함수를 `순수함수`라한다.  
  순수 함수를 통해 부수효과를 최대한 억제하여 오류를 피하고 프로그램의 안정성을 높이려는 프로그래밍을 함수형 프로그래밍이라 한다.   
    
- - -   
      
[참조(모던 자바스크립트 Deep Dive)](https://book.naver.com/bookdb/book_detail.nhn?bid=16710547)
