---
layout: post
title:  "생성자 함수에 의한 객체 생성"
date:   2021-12-14
author: EunHye Jung
categories: javascript
comment : true
tags: 생성자함수 JS생성자함수 JS화살표함수 자바스크립트 JavaScript
cover:  "/assets/instacode.png"
---
    
## 생성자함수에 의한 객체 생성   
  
### 생성자 함수   
* `생성자 함수(constructor)란 new 연산자와 함께 호출하여 객체(인스턴스)를 생성하는 함수`를 말함.   
* 자바스크립트는 Object, String, Number, Boolean, Function, Array, Date, RegExp, Promise 등의 빌트인 생성자 함수를 제공한다.  
     
     
### 객체 리터럴에 의한 객체생성 방식의 문제점  
* 객체 리터럴에 의한 객체 생성 방식은 직관적이고 간편하지만 단 하나의 객체만 생성한다.  
  만약 동일한 프로퍼티를 갖는 객체를 여러개 생성해야 하는 경우 매번 같은 프로퍼티를 작성해야하므로 비효율적이다.  
  ```javascript  
  const student1 = {
    name: 'Jung'
    getName() {
      return this.name;
    }
  }

  console.log(student1.getName());  // 'Jung'

  const student1 = {
    name: 'Lee'
    getName() {
      return this.name;
    }
  }

  console.log(student1.getName());  // 'Lee'
  ```  
   
  학생을 표현한 student1 객체와 student2 객체는 프로퍼티 구조가 동일하다.  
  객체고유의 상태 데이터인 name 프로퍼티의 값은 객체마다 다를 수 있지만  
  getName() 메서드는 완전히 동일하다.  
  하지만 객체 리터럴에 의해 객체를 생성하는 경우 프로퍼티 구조가 동일함에도 불구하고 매번 같은 프로퍼티와 메서드를 작성해야 한다.  
   
   
### 생성자 함수에 의한 객체생성 방식의 장점  
* 생성자 함수에 의한 객체 생성 방식을 이용하면 마치 인스턴스를 생성하기 위한 템플릿(클래스)처럼 프로퍼티 구조가 동일한 여러개의 객체를 간편하게 만들 수 있다.  
  ```javascript  
  // 생성자 함수
  function Student(name) {
    this.name = name
    this.getName = function() {
      return name;
    };
  }
  
  // 인스턴스 생성
  const student1 = new Student('Jung');  // 이름이 Jung인 Student 객체 생성
  const student2 = new Student('Lee');  // 이름이 Lee인 Student 객체 생성
  
  console.log(student1.getName());  // Jung
  console.log(student2.getName());  // Lee
  ```  
        
* 만약 new 연산자와 함께 생성자 함수를 호출하지않으면 생성자 함수가 아니라 일반함수로 동작한다.  
  ```javascript  
  const student3 = Student('Kim');

   // 일반함수로서 호출된 Student는 반환문이 없으므로 암묵적으로 undefined를 반환한다.  
  console.log(student3);  // undefined

  // 일반함수로서 호출된 Student내의 this는 전역객체를 가리킨다.  
  console.log(name);  // Kim  
  ```  
    
    
### 생성자 함수의 인스턴스 생성 과정  
* new 연산자와 함께 생성자 함수를 호출하면 자바스크립트 엔진은 다음과 같은 과정을 거쳐 암묵적으로 인스턴스를 생성하고 인스턴스를 초기화한 후 암묵적으로 인스턴스를 반환한다.  
  
  1) 인스턴스 생성과 this 바인딩  
  2) 인스턴스 초기화  
  3) 인스턴스 반환  
      
      
- - - 
   
### this  
* this는 객체 자신의 프로퍼티나 메서드를 참조하기 위한 자기 참조 변수(self-referencing variable)다.  
* this가 가리키는 값(this 바인딩)은 함수 호출방식에 따라 동적으로 결정된다.  
  
  | 함수 호출 방식 | this가 가리키는값(this 바인딩) | 
  |:---:|:----:|
  | 일반함수로서 호출 | 전역객체 |
  | 메서드로서 호출 | 메서드를 호출한 객체(마침표 앞의 객체) |
  | 생성자함수로서 호출 | 생성자 함수가 (미래에) 생성할 인스턴스 |
    
```javascript  
function foo() {
  console.log(this);
}

// 일반함수로서 호출
// 전역객체는 브라우저 환경에서는 window, 
// Node.js 환경에서는 global를 가리킨다.  
foo(); // window;

const obj = { foo };   // ES6 축약표현
// 메서드로서 호출
obj.foo();  // obj

// 생성자 함수로서 호출
const inst = new foo(); // inst
```      
                 
- - -  
     
[참조(모던 자바스크립트 Deep Dive)](https://book.naver.com/bookdb/book_detail.nhn?bid=16710547)
    


               
- - -   
      
[참조(모던 자바스크립트 Deep Dive)](https://book.naver.com/bookdb/book_detail.nhn?bid=16710547)
   
