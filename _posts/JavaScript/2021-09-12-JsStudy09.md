---
layout: post
title:  "클로저(Closure)"
date:   2021-09-12
author: EunHye Jung
categories: javascript
comment : true
tags: 클로저 Closure 자바스크립트 JavaScript
cover:  "/assets/instacode.png"
---
    
```javascript
const x = 1;

function outerFunc() {
    const x = 10;
    
    function innerFunc() {
        console.log(x);  // 10
    }
    innerFunc();
}

outerFunc();
```    

outerFunc 함수 내부에서 중첩함수 innerFunc가 정의되고 호출되었다.  
이 때 중첩함수 innerFunc의 상위스코프는 외부함수 outerFunc의 스코프이다.  
따라서 중첩함수 innerFunc 내부에서 자신을 포함하고 있는 외부함수 outerFunc의 x변수에 접근가능하다.  
만약 innerFunc함수가 outerFunc함수 내부에 정의된 중첩함수가 아니면 innerFunc함수를 outerFunc함수의 내부에서 호출한다 하더라도 outerFunc함수의 변수에 접근불가능하다.  
이러한 현상이 발생하는 이뉴는 자바스크립트가 렉시컬 스코프를 따르는 프로그래밍 언어이기 때문이다.     
   
- - -   
    
### 렉시컬 스코프   
    
* `렉시컬 스코프` : 자바스크립트 엔진이 함수를 어디서 호출했는지가 아니라 어디에 정의했는지에 따라 상위스코프를 결정하는것    
* 함수를 어디서 호출하는지는 함수의 상위스코프 결정에 어떠한 영향을 주지 못한다.  
  즉, 함수의 상위스코프는 함수를 정의한 위치에 의해 정적으로 결정되고 변하지 않는다.   
* 상위 스코프에 대한 참조는 함수정의가 평가되는 시점에 함수가 정의된 환경(위치)에 따라 결정되고 이것이 바로 렉시컬 스코프다.   
   
- - -   
     
### 함수 객체의 내부 슬롯 [[Environment]]   
    
* 함수가 정의된 환경과 호출되는 환경(위치)는 다를 수 있다.    
  따라서 렉시컬 스코프가 가능하려면 함수는 자신이 정의된 환경, 즉 상위 스코프를 기억해야한다.  
  이를 위해 함수는 자신의 내부 슬롯 [[Environment]]에 자신이 정의된 환경, 즉 상위 스코프의 참조를 저장한다.  
  자신의 내부슬록 [[Environment]]에 저장된 상위 스코프의 참조는 현재 실행중인 실행컨텍스트의 렉시컬 환경을 가리킨다.  
      
 - - -   
      
[참조(모던 자바스크립트 Deep Dive)](https://book.naver.com/bookdb/book_detail.nhn?bid=16710547)
